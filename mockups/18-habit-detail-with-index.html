<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Flux - Running Detail</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #f9fafb;
      min-height: 100vh;
    }

    .habit-detail-page {
      max-width: 768px;
      margin: 0 auto;
      background: #f9fafb;
      min-height: 100vh;
      padding-bottom: 100px;
    }

    /* Header */
    .detail-header {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px;
      background: white;
      position: relative;
    }

    .back-button {
      position: absolute;
      left: 16px;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      border: none;
      background: none;
      cursor: pointer;
      color: #3b82f6;
    }

    .header-title {
      font-size: 17px;
      font-weight: 600;
      color: #111827;
    }

    /* Habit Hero Card */
    .habit-hero {
      background: white;
      padding: 20px 16px;
      border-bottom: 1px solid #e5e7eb;
    }

    .habit-ticker {
      display: inline-block;
      background: #eff6ff;
      color: #3b82f6;
      padding: 4px 10px;
      border-radius: 6px;
      font-size: 13px;
      font-weight: 600;
      margin-bottom: 8px;
    }

    .habit-meta {
      font-size: 14px;
      color: #6b7280;
      margin-bottom: 8px;
    }

    .habit-hero-row {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
    }

    .earnings-section {
      flex: 1;
    }

    .earnings-value {
      font-size: 32px;
      font-weight: 700;
      color: #3b82f6;
    }

    .earnings-label {
      font-size: 13px;
      color: #6b7280;
    }

    .completed-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: #dcfce7;
      color: #16a34a;
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 13px;
      font-weight: 500;
      margin-top: 8px;
    }

    .completed-badge svg {
      width: 14px;
      height: 14px;
    }

    /* Flux Score Circle */
    .score-section {
      text-align: center;
    }

    .score-circle {
      width: 72px;
      height: 72px;
      position: relative;
    }

    .score-circle svg {
      width: 100%;
      height: 100%;
      transform: rotate(-90deg);
    }

    .score-bg {
      fill: none;
      stroke: #e5e7eb;
      stroke-width: 6;
    }

    .score-fill {
      fill: none;
      stroke: #3b82f6;
      stroke-width: 6;
      stroke-linecap: round;
      stroke-dasharray: 188;
      stroke-dashoffset: calc(188 - (188 * 0.86));
    }

    .score-value {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
    }

    .score-number {
      font-size: 22px;
      font-weight: 700;
      color: #111827;
      line-height: 1;
    }

    .score-label {
      font-size: 9px;
      color: #6b7280;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .score-stars {
      display: flex;
      justify-content: center;
      gap: 2px;
      margin-top: 4px;
    }

    .score-stars svg {
      width: 12px;
      height: 12px;
    }

    .star-filled {
      color: #f59e0b;
    }

    .star-empty {
      color: #d1d5db;
    }

    /* Growth Section */
    .growth-section {
      background: white;
      margin: 12px 16px;
      border-radius: 16px;
      padding: 20px 16px;
    }

    .growth-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 4px;
    }

    .growth-title {
      font-size: 17px;
      font-weight: 600;
      color: #111827;
    }

    .growth-toggles {
      display: flex;
      background: #f3f4f6;
      border-radius: 8px;
      padding: 2px;
    }

    .growth-toggle {
      padding: 6px 12px;
      border: none;
      background: none;
      font-size: 13px;
      font-weight: 500;
      color: #6b7280;
      cursor: pointer;
      border-radius: 6px;
      transition: all 0.2s;
    }

    .growth-toggle.active {
      background: white;
      color: #111827;
      box-shadow: 0 1px 2px rgba(0,0,0,0.05);
    }

    /* Growth Value Display */
    .growth-value-display {
      margin-bottom: 16px;
    }

    .growth-value {
      font-size: 32px;
      font-weight: 700;
      color: #10b981;
    }

    .growth-value.score {
      color: #111827;
    }

    /* Index Comparison Banner - Only shows on Flux Score view */
    .index-comparison {
      display: none;
      background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
      border-radius: 12px;
      padding: 14px 16px;
      margin-bottom: 16px;
      color: white;
    }

    .index-comparison.visible {
      display: block;
    }

    .index-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .index-info {
      flex: 1;
    }

    .index-name {
      font-size: 12px;
      opacity: 0.9;
      margin-bottom: 2px;
    }

    .index-position {
      font-size: 18px;
      font-weight: 700;
    }

    .index-context {
      font-size: 12px;
      opacity: 0.8;
      margin-top: 2px;
    }

    .index-link {
      display: flex;
      align-items: center;
      gap: 4px;
      background: rgba(255,255,255,0.2);
      padding: 8px 12px;
      border-radius: 8px;
      font-size: 12px;
      font-weight: 500;
      color: white;
      text-decoration: none;
    }

    .index-link svg {
      width: 14px;
      height: 14px;
    }

    /* Chart */
    .chart-container {
      height: 180px;
      margin-bottom: 12px;
    }

    /* Chart Legend - Only shows on Flux Score view */
    .chart-legend {
      display: none;
      justify-content: center;
      gap: 16px;
      margin-bottom: 12px;
    }

    .chart-legend.visible {
      display: flex;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 12px;
      color: #6b7280;
    }

    .legend-line {
      width: 16px;
      height: 3px;
      border-radius: 2px;
    }

    .legend-line.user {
      background: #3b82f6;
    }

    .legend-line.index {
      background: #9ca3af;
    }

    /* Time Toggles */
    .time-toggles {
      display: flex;
      justify-content: center;
      gap: 4px;
    }

    .time-toggle {
      padding: 8px 14px;
      border: none;
      background: none;
      font-size: 13px;
      font-weight: 500;
      color: #9ca3af;
      cursor: pointer;
      border-radius: 8px;
      transition: all 0.2s;
    }

    .time-toggle.active {
      background: #eff6ff;
      color: #3b82f6;
    }

    /* Activity Section */
    .activity-section {
      background: white;
      margin: 0 16px 12px;
      border-radius: 16px;
      padding: 20px 16px;
    }

    .activity-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }

    .activity-title {
      font-size: 17px;
      font-weight: 600;
      color: #111827;
    }

    .activity-month {
      font-size: 14px;
      color: #6b7280;
    }

    /* Calendar */
    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 4px;
    }

    .calendar-header {
      font-size: 12px;
      color: #9ca3af;
      text-align: center;
      padding: 8px 0;
      font-weight: 500;
    }

    .calendar-day {
      aspect-ratio: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      color: #374151;
      border-radius: 8px;
      border: 1px dashed #e5e7eb;
    }

    .calendar-day.empty {
      border: none;
    }

    .calendar-day.completed {
      background: #dcfce7;
      border: 1px solid #86efac;
      color: #16a34a;
      font-weight: 600;
    }

    .calendar-day.today {
      border: 2px solid #3b82f6;
    }

    .calendar-day.future {
      color: #d1d5db;
      border-color: #f3f4f6;
    }

    /* FAB */
    .fab {
      position: fixed;
      bottom: 100px;
      right: 24px;
      width: 56px;
      height: 56px;
      background: #3b82f6;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
      cursor: pointer;
      border: none;
    }

    .fab svg {
      width: 24px;
      height: 24px;
      color: white;
    }

    /* Bottom Nav */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: white;
      border-top: 1px solid #e5e7eb;
      display: flex;
      justify-content: space-around;
      padding: 8px 0;
      max-width: 768px;
      margin: 0 auto;
    }

    .nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 8px 16px;
      color: #9ca3af;
      text-decoration: none;
      font-size: 11px;
    }

    .nav-item.active { color: #3b82f6; }
    .nav-item svg { width: 24px; height: 24px; margin-bottom: 4px; }
  </style>
</head>
<body>
  <div class="habit-detail-page">
    <!-- Header -->
    <div class="detail-header">
      <button class="back-button">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
        </svg>
      </button>
      <span class="header-title">Running</span>
    </div>

    <!-- Habit Hero -->
    <div class="habit-hero">
      <span class="habit-ticker">$RUN</span>
      <div class="habit-meta">$1.00/mile · Daily</div>
      <div class="habit-hero-row">
        <div class="earnings-section">
          <div class="earnings-value">$12.00</div>
          <div class="earnings-label">lifetime earnings</div>
          <div class="completed-badge">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Completed today
          </div>
        </div>
        <div class="score-section">
          <div class="score-circle">
            <svg viewBox="0 0 72 72">
              <circle class="score-bg" cx="36" cy="36" r="30"/>
              <circle class="score-fill" cx="36" cy="36" r="30"/>
            </svg>
            <div class="score-value">
              <div class="score-number">86</div>
              <div class="score-label">Flux</div>
            </div>
          </div>
          <div class="score-stars">
            <svg class="star-filled" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
            <svg class="star-filled" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
            <svg class="star-filled" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
            <svg class="star-filled" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
            <svg class="star-empty" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
          </div>
        </div>
      </div>
    </div>

    <!-- Growth Section -->
    <div class="growth-section">
      <div class="growth-header">
        <span class="growth-title">Growth</span>
        <div class="growth-toggles">
          <button class="growth-toggle" data-view="earnings">Earnings</button>
          <button class="growth-toggle active" data-view="score">Flux Score</button>
        </div>
      </div>

      <!-- Value Display -->
      <div class="growth-value-display">
        <span class="growth-value earnings-view">+$12.00</span>
        <span class="growth-value score score-view" style="display:none;">86</span>
      </div>

      <!-- Index Comparison - Shows only on Flux Score view -->
      <div class="index-comparison visible" id="indexComparison">
        <div class="index-row">
          <div class="index-info">
            <div class="index-name">vs Cardio Index (847 users)</div>
            <div class="index-position">Top 16%</div>
            <div class="index-context">Ahead of 713 users · Index avg: 71.3</div>
          </div>
          <a href="#" class="index-link">
            View Index
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
            </svg>
          </a>
        </div>
      </div>

      <!-- Chart Legend - Shows only on Flux Score view -->
      <div class="chart-legend visible" id="chartLegend">
        <div class="legend-item">
          <div class="legend-line user"></div>
          <span>You</span>
        </div>
        <div class="legend-item">
          <div class="legend-line index"></div>
          <span>Cardio Index</span>
        </div>
      </div>

      <!-- Chart -->
      <div class="chart-container">
        <canvas id="growthChart"></canvas>
      </div>

      <!-- Time Toggles -->
      <div class="time-toggles">
        <button class="time-toggle">1W</button>
        <button class="time-toggle active">1M</button>
        <button class="time-toggle">3M</button>
        <button class="time-toggle">6M</button>
        <button class="time-toggle">YTD</button>
        <button class="time-toggle">ALL</button>
      </div>
    </div>

    <!-- Activity Section -->
    <div class="activity-section">
      <div class="activity-header">
        <span class="activity-title">Activity</span>
        <span class="activity-month">December 2025</span>
      </div>
      <div class="calendar-grid">
        <div class="calendar-header">S</div>
        <div class="calendar-header">M</div>
        <div class="calendar-header">T</div>
        <div class="calendar-header">W</div>
        <div class="calendar-header">T</div>
        <div class="calendar-header">F</div>
        <div class="calendar-header">S</div>
        
        <div class="calendar-day empty"></div>
        <div class="calendar-day completed">1</div>
        <div class="calendar-day completed today">2</div>
        <div class="calendar-day future">3</div>
        <div class="calendar-day future">4</div>
        <div class="calendar-day future">5</div>
        <div class="calendar-day future">6</div>
        
        <div class="calendar-day future">7</div>
        <div class="calendar-day future">8</div>
        <div class="calendar-day future">9</div>
        <div class="calendar-day future">10</div>
        <div class="calendar-day future">11</div>
        <div class="calendar-day future">12</div>
        <div class="calendar-day future">13</div>
        
        <div class="calendar-day future">14</div>
        <div class="calendar-day future">15</div>
        <div class="calendar-day future">16</div>
        <div class="calendar-day future">17</div>
        <div class="calendar-day future">18</div>
        <div class="calendar-day future">19</div>
        <div class="calendar-day future">20</div>
        
        <div class="calendar-day future">21</div>
        <div class="calendar-day future">22</div>
        <div class="calendar-day future">23</div>
        <div class="calendar-day future">24</div>
        <div class="calendar-day future">25</div>
        <div class="calendar-day future">26</div>
        <div class="calendar-day future">27</div>
        
        <div class="calendar-day future">28</div>
        <div class="calendar-day future">29</div>
        <div class="calendar-day future">30</div>
        <div class="calendar-day future">31</div>
        <div class="calendar-day empty"></div>
        <div class="calendar-day empty"></div>
        <div class="calendar-day empty"></div>
      </div>
    </div>

    <!-- FAB -->
    <button class="fab">
      <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
      </svg>
    </button>

    <!-- Bottom Nav -->
    <div class="bottom-nav">
      <a href="#" class="nav-item active">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
        </svg>
        Home
      </a>
      <a href="#" class="nav-item">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
        </svg>
        Portfolio
      </a>
      <a href="#" class="nav-item">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
        </svg>
        Indices
      </a>
      <a href="#" class="nav-item">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
        </svg>
        Account
      </a>
    </div>
  </div>

  <script>
    const ctx = document.getElementById('growthChart').getContext('2d');
    
    // Generate data
    const generateData = (type) => {
      const labels = [];
      const data = [];
      const indexData = [];
      const today = new Date();
      
      for (let i = 30; i >= 0; i -= 2) {
        const date = new Date(today);
        date.setDate(date.getDate() - i);
        labels.push(date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }));
        
        if (type === 'earnings') {
          // Cumulative earnings
          data.push(Math.max(0, 12 - (i * 0.4) + Math.random() * 2));
        } else {
          // Flux Score with index
          data.push(75 + Math.random() * 15);
          indexData.push(68 + Math.random() * 8);
        }
      }
      return { labels, data, indexData };
    };

    let chartData = generateData('score');
    
    const userGradient = ctx.createLinearGradient(0, 0, 0, 180);
    userGradient.addColorStop(0, 'rgba(59, 130, 246, 0.2)');
    userGradient.addColorStop(1, 'rgba(59, 130, 246, 0)');

    let chart = new Chart(ctx, {
      type: 'line',
      data: {
        labels: chartData.labels,
        datasets: [
          {
            label: 'You',
            data: chartData.data,
            borderColor: '#3b82f6',
            backgroundColor: userGradient,
            borderWidth: 2.5,
            fill: true,
            tension: 0.4,
            pointRadius: 0,
            pointHoverRadius: 5,
          },
          {
            label: 'Cardio Index',
            data: chartData.indexData,
            borderColor: '#9ca3af',
            backgroundColor: 'transparent',
            borderWidth: 2,
            borderDash: [4, 4],
            fill: false,
            tension: 0.4,
            pointRadius: 0,
          }
        ]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        interaction: { mode: 'index', intersect: false },
        plugins: {
          legend: { display: false },
          tooltip: {
            backgroundColor: '#fff',
            titleColor: '#6b7280',
            bodyColor: '#111827',
            borderColor: '#e5e7eb',
            borderWidth: 1,
            cornerRadius: 8,
            padding: 10,
          }
        },
        scales: {
          x: {
            grid: { display: false },
            ticks: { font: { size: 10 }, color: '#9ca3af', maxTicksLimit: 5 }
          },
          y: {
            grid: { color: '#f3f4f6' },
            ticks: { font: { size: 10 }, color: '#9ca3af' }
          }
        }
      }
    });

    // Toggle between Earnings and Flux Score views
    document.querySelectorAll('.growth-toggle').forEach(btn => {
      btn.addEventListener('click', function() {
        document.querySelectorAll('.growth-toggle').forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        
        const view = this.dataset.view;
        const indexComparison = document.getElementById('indexComparison');
        const chartLegend = document.getElementById('chartLegend');
        const earningsValue = document.querySelector('.earnings-view');
        const scoreValue = document.querySelector('.score-view');
        
        if (view === 'earnings') {
          indexComparison.classList.remove('visible');
          chartLegend.classList.remove('visible');
          earningsValue.style.display = 'inline';
          scoreValue.style.display = 'none';
          
          // Update chart for earnings
          const newData = generateData('earnings');
          chart.data.labels = newData.labels;
          chart.data.datasets = [{
            label: 'Earnings',
            data: newData.data,
            borderColor: '#10b981',
            backgroundColor: 'rgba(16, 185, 129, 0.1)',
            borderWidth: 2.5,
            fill: true,
            tension: 0.4,
            pointRadius: 0,
          }];
          chart.update();
        } else {
          indexComparison.classList.add('visible');
          chartLegend.classList.add('visible');
          earningsValue.style.display = 'none';
          scoreValue.style.display = 'inline';
          
          // Update chart for Flux Score with index
          const newData = generateData('score');
          chart.data.labels = newData.labels;
          chart.data.datasets = [
            {
              label: 'You',
              data: newData.data,
              borderColor: '#3b82f6',
              backgroundColor: userGradient,
              borderWidth: 2.5,
              fill: true,
              tension: 0.4,
              pointRadius: 0,
            },
            {
              label: 'Cardio Index',
              data: newData.indexData,
              borderColor: '#9ca3af',
              backgroundColor: 'transparent',
              borderWidth: 2,
              borderDash: [4, 4],
              fill: false,
              tension: 0.4,
              pointRadius: 0,
            }
          ];
          chart.update();
        }
      });
    });

    // Time toggle interaction
    document.querySelectorAll('.time-toggle').forEach(btn => {
      btn.addEventListener('click', function() {
        document.querySelectorAll('.time-toggle').forEach(b => b.classList.remove('active'));
        this.classList.add('active');
      });
    });
  </script>
</body>
</html>
